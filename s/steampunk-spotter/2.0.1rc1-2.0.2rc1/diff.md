# Comparing `tmp/steampunk_spotter-2.0.1rc1-py3-none-any.whl.zip` & `tmp/steampunk_spotter-2.0.2rc1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,38 +1,38 @@
-Zip file size: 63806 bytes, number of entries: 36
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-13 14:38 spotter/__init__.py
+Zip file size: 63732 bytes, number of entries: 36
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-21 09:54 spotter/__init__.py
 -rw-r--r--  2.0 unx    22727 b- defN 23-Jun-09 10:45 spotter/api.py
--rw-r--r--  2.0 unx     5690 b- defN 23-Jun-12 13:38 spotter/cli.py
--rw-r--r--  2.0 unx    22166 b- defN 23-Jun-13 13:19 spotter/environment.py
--rw-r--r--  2.0 unx    24325 b- defN 23-Jun-12 13:27 spotter/parsing.py
+-rw-r--r--  2.0 unx     5690 b- defN 23-Jun-21 06:32 spotter/cli.py
+-rw-r--r--  2.0 unx    21661 b- defN 23-Jun-21 09:21 spotter/environment.py
+-rw-r--r--  2.0 unx    24325 b- defN 23-Jun-21 09:21 spotter/parsing.py
 -rw-r--r--  2.0 unx     5697 b- defN 23-Jun-09 10:45 spotter/storage.py
--rw-r--r--  2.0 unx     2752 b- defN 23-Jun-12 13:38 spotter/utils.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-13 14:38 spotter/commands/__init__.py
+-rw-r--r--  2.0 unx     2752 b- defN 23-Jun-21 06:32 spotter/utils.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-21 09:54 spotter/commands/__init__.py
 -rw-r--r--  2.0 unx     5468 b- defN 23-Jun-09 10:45 spotter/commands/clear_policies.py
 -rw-r--r--  2.0 unx     2446 b- defN 23-Jun-09 10:45 spotter/commands/login.py
 -rw-r--r--  2.0 unx     2253 b- defN 23-Jun-09 10:45 spotter/commands/logout.py
 -rw-r--r--  2.0 unx     1155 b- defN 23-May-29 11:32 spotter/commands/register.py
--rw-r--r--  2.0 unx    40717 b- defN 23-Jun-13 13:19 spotter/commands/scan.py
+-rw-r--r--  2.0 unx    40542 b- defN 23-Jun-21 09:21 spotter/commands/scan.py
 -rw-r--r--  2.0 unx     6692 b- defN 23-Jun-09 10:45 spotter/commands/set_policies.py
 -rw-r--r--  2.0 unx     3620 b- defN 23-Jun-09 10:45 spotter/commands/suggest.py
 -rw-r--r--  2.0 unx       60 b- defN 23-Mar-14 07:59 spotter/reporting/__init__.py
 -rw-r--r--  2.0 unx     3459 b- defN 23-Jun-12 13:01 spotter/reporting/report.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-13 14:38 spotter/rewriting/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-21 09:54 spotter/rewriting/__init__.py
 -rw-r--r--  2.0 unx     7545 b- defN 23-Apr-11 07:05 spotter/rewriting/models.py
--rw-r--r--  2.0 unx     7562 b- defN 23-Jun-02 07:16 spotter/rewriting/processor.py
+-rw-r--r--  2.0 unx     7562 b- defN 23-Jun-21 09:21 spotter/rewriting/processor.py
 -rw-r--r--  2.0 unx     1937 b- defN 23-Apr-11 07:05 spotter/rewriting/rewrite_action_inline.py
 -rw-r--r--  2.0 unx     2318 b- defN 23-Apr-11 07:05 spotter/rewriting/rewrite_action_object.py
 -rw-r--r--  2.0 unx      989 b- defN 23-Apr-11 07:05 spotter/rewriting/rewrite_always_run.py
 -rw-r--r--  2.0 unx      982 b- defN 23-Apr-11 07:05 spotter/rewriting/rewrite_fqcn.py
--rw-r--r--  2.0 unx     2087 b- defN 23-Apr-11 07:05 spotter/rewriting/rewrite_inline.py
--rw-r--r--  2.0 unx     2527 b- defN 23-Apr-11 07:05 spotter/rewriting/rewrite_local_action_inline.py
--rw-r--r--  2.0 unx     2312 b- defN 23-Apr-11 07:05 spotter/rewriting/rewrite_local_object.py
+-rw-r--r--  2.0 unx     2087 b- defN 23-Jun-21 09:21 spotter/rewriting/rewrite_inline.py
+-rw-r--r--  2.0 unx     2527 b- defN 23-Jun-21 09:21 spotter/rewriting/rewrite_local_action_inline.py
+-rw-r--r--  2.0 unx     2312 b- defN 23-Jun-21 09:21 spotter/rewriting/rewrite_local_object.py
 -rw-r--r--  2.0 unx      989 b- defN 23-Apr-11 07:05 spotter/rewriting/rewrite_module_inline.py
 -rw-r--r--  2.0 unx      888 b- defN 23-Apr-11 07:05 spotter/rewriting/rewrite_module_object.py
--rw-rw-rw-  2.0 unx    11358 b- defN 23-Jun-13 14:38 steampunk_spotter-2.0.1rc1.dist-info/LICENSE
--rw-r--r--  2.0 unx    23308 b- defN 23-Jun-13 14:38 steampunk_spotter-2.0.1rc1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-13 14:38 steampunk_spotter-2.0.1rc1.dist-info/WHEEL
--rw-r--r--  2.0 unx       45 b- defN 23-Jun-13 14:38 steampunk_spotter-2.0.1rc1.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        8 b- defN 23-Jun-13 14:38 steampunk_spotter-2.0.1rc1.dist-info/top_level.txt
--rw-r--r--  2.0 unx        1 b- defN 23-Jun-13 14:38 steampunk_spotter-2.0.1rc1.dist-info/zip-safe
--rw-rw-r--  2.0 unx     3152 b- defN 23-Jun-13 14:38 steampunk_spotter-2.0.1rc1.dist-info/RECORD
-36 files, 217327 bytes uncompressed, 58702 bytes compressed:  73.0%
+-rw-rw-rw-  2.0 unx    11358 b- defN 23-Jun-21 09:55 steampunk_spotter-2.0.2rc1.dist-info/LICENSE
+-rw-r--r--  2.0 unx    23308 b- defN 23-Jun-21 09:55 steampunk_spotter-2.0.2rc1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-21 09:55 steampunk_spotter-2.0.2rc1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       45 b- defN 23-Jun-21 09:55 steampunk_spotter-2.0.2rc1.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        8 b- defN 23-Jun-21 09:55 steampunk_spotter-2.0.2rc1.dist-info/top_level.txt
+-rw-r--r--  2.0 unx        1 b- defN 23-Jun-21 09:55 steampunk_spotter-2.0.2rc1.dist-info/zip-safe
+-rw-rw-r--  2.0 unx     3152 b- defN 23-Jun-21 09:55 steampunk_spotter-2.0.2rc1.dist-info/RECORD
+36 files, 216647 bytes uncompressed, 58628 bytes compressed:  72.9%
```

## zipnote {}

```diff
@@ -81,29 +81,29 @@
 
 Filename: spotter/rewriting/rewrite_module_inline.py
 Comment: 
 
 Filename: spotter/rewriting/rewrite_module_object.py
 Comment: 
 
-Filename: steampunk_spotter-2.0.1rc1.dist-info/LICENSE
+Filename: steampunk_spotter-2.0.2rc1.dist-info/LICENSE
 Comment: 
 
-Filename: steampunk_spotter-2.0.1rc1.dist-info/METADATA
+Filename: steampunk_spotter-2.0.2rc1.dist-info/METADATA
 Comment: 
 
-Filename: steampunk_spotter-2.0.1rc1.dist-info/WHEEL
+Filename: steampunk_spotter-2.0.2rc1.dist-info/WHEEL
 Comment: 
 
-Filename: steampunk_spotter-2.0.1rc1.dist-info/entry_points.txt
+Filename: steampunk_spotter-2.0.2rc1.dist-info/entry_points.txt
 Comment: 
 
-Filename: steampunk_spotter-2.0.1rc1.dist-info/top_level.txt
+Filename: steampunk_spotter-2.0.2rc1.dist-info/top_level.txt
 Comment: 
 
-Filename: steampunk_spotter-2.0.1rc1.dist-info/zip-safe
+Filename: steampunk_spotter-2.0.2rc1.dist-info/zip-safe
 Comment: 
 
-Filename: steampunk_spotter-2.0.1rc1.dist-info/RECORD
+Filename: steampunk_spotter-2.0.2rc1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## spotter/environment.py

```diff
@@ -457,28 +457,14 @@
                   f"{len(project_config_paths)} files: {[p.name for p in project_config_paths]}.", file=sys.stderr)
             sys.exit(2)
 
         if project_config_paths:
             return cls.from_config_file(project_config_paths[0])
         return cls()
 
-    @classmethod
-    def from_optional_arguments(cls, optional_arguments: Dict[str, Any]) -> "Environment":
-        """
-        Set workspace variables from optional arguments.
-
-        :param optional_arguments: Configuration options and their values from optional arguments in a dict
-        :return: Environment object
-        """
-        return cls(
-            ansible_version=EnvironmentAnsibleVersion(
-                ansible_core=optional_arguments.get("ansible_version")
-            )
-        )
-
     def combine(self, other: "Environment") -> "Environment":
         """
         Combine two dataclasses into one, overriding with values from `other`.
 
         Null values in `other` do not override original values.
 
         :param other: Environment to combine with
```

## spotter/commands/scan.py

```diff
@@ -780,64 +780,61 @@
 
     if args.export_payload and not args.include_metadata:
         print("Warning: exporting without the --include-metadata won't allow you to properly import payload.")
         yes = prompt_yes_no_question(default_yes_response=False)
         if not yes:
             sys.exit(0)
 
-    config_vars = {}
+    ansible_version = args.ansible_version
     if args.option:
         print("Warning: the --option optional argument is deprecated. Use specific CLI optional arguments instead.")
         for key_value in args.option:
             if len(key_value) != 2:
                 print(f"Error: '{'='.join(key_value)}' extra option is not specified as key=value.", file=sys.stderr)
                 sys.exit(2)
             else:
-                config_vars[key_value[0]] = key_value[1]
-    if args.ansible_version:
-        config_vars["ansible_version"] = args.ansible_version
+                if not ansible_version and key_value[0] == "ansible_version" and isinstance(key_value[1], str):
+                    ansible_version = key_value[1]
 
     # workaround for a deprecated --junit-xml optional argument
     if args.junit_xml:
         print(f"Warning: the --junit-xml file.xml optional argument is deprecated. "
               f"Use --format {OutputFormat.JUNIT_XML} --output file.xml instead.")
         args.format = OutputFormat.JUNIT_XML
         args.output = args.junit_xml
 
     # ensure that colorized output is possible only when output is text-formatted and to be printed to the console
     if args.output or args.format != OutputFormat.TEXT:
         args.no_colors = True
 
     scan(api_endpoint, storage_path, api_token, username, password, args.no_colors, args.project_id, args.config,
-         args.ansible_version, args.include_values, args.include_metadata, args.rewrite, args.display_level,
+         ansible_version, args.include_values, args.include_metadata, args.rewrite, args.display_level,
          args.profile, args.skip_checks, args.enforce_checks, args.no_docs_url, args.format, args.output,
          args.import_payload, args.export_payload, scan_paths, debug=debug)
 
 
 # pylint: disable=too-many-arguments,too-many-locals,too-many-branches,too-many-statements
 def scan(api_endpoint: str, storage_path: Path, api_token: Optional[str], username: Optional[str],
          password: Optional[str], no_colors: bool, project_id: Optional[str], config_path: Optional[Path],
-         config_vars: Dict[str, Any], include_values: bool, include_metadata: bool, rewrite: bool,
+         ansible_version: Optional[str], include_values: bool, include_metadata: bool, rewrite: bool,
          display_level: DisplayLevel, profile: Profile, skip_checks: List[str], enforce_checks: List[str],
          no_docs_url: bool, output_format: OutputFormat, output_path: Optional[Path], import_payload: Optional[Path],
          export_payload: Optional[Path], scan_paths: List[Path], debug: bool = False) -> None:
     """
     Scan Ansible content and return scan result.
 
     :param api_endpoint: Steampunk Spotter API endpoint
     :param storage_path: Path to storage
     :param api_token: Steampunk Spotter API token
     :param username: Steampunk Spotter username
     :param password: Steampunk Spotter password
     :param no_colors: Disable output colors
     :param project_id: UUID of an existing Steampunk Spotter project
     :param config_path: Path to configuration file
-    :param config_vars: Configuration options and their values from optional arguments in a dict
-    :param include_values: Parse and upload values from Ansible task parameters to the server
-    :param include_metadata: Upload metadata (i.e., file names, line and column numbers) to the server
+    :param ansible_version: Target Ansible version to scan against (e.g., 2.14)
     :param include_values: Parse and upload values from Ansible task parameters to the server
     :param include_metadata: Upload metadata (i.e., file names, line and column numbers) to the server
     :param rewrite: Rewrite files with fixes
     :param display_level: Display only check results with specified level or greater
     :param profile: Profile with selected set of checks to be used for scanning
     :param skip_checks: List of check IDs for checks to be skipped
     :param enforce_checks: List of check IDs for checks to be enforced
@@ -850,21 +847,21 @@
     :param debug: Enable debug mode
     """
     # create and set environment
     # the order that we read configuration is the following (in each step we overwrite what the previous one has):
     # 1. local discovery (from user's current workspace)
     # 2. project config file (.spotter.json/.spotter.yml/.spotter.yaml file in the current working directory)
     # 3. config file (JSON/YAML file provided after --config flag)
-    # 4. options provided as key=value pairs to the scan command
+    # 4. optional CLI arguments (e.g., --ansible-version)
     environment = Environment.from_local_discovery(scan_paths)
     environment = environment.combine(Environment.from_project_configuration_file())
     if config_path:
         environment = environment.combine(Environment.from_config_file(config_path))
-    if config_vars:
-        environment = environment.combine(Environment.from_optional_arguments(config_vars))
+    if ansible_version and environment.ansible_version:
+        environment.ansible_version.ansible_core = ansible_version
 
     cli_scan_args_skip_checks = []
     cli_scan_args_enforce_checks = []
     if environment.cli_scan_args:
         cli_scan_args_skip_checks = environment.cli_scan_args.get("skip_checks", [])
         cli_scan_args_enforce_checks = environment.cli_scan_args.get("enforce_checks", [])
     if skip_checks:
```

## Comparing `steampunk_spotter-2.0.1rc1.dist-info/LICENSE` & `steampunk_spotter-2.0.2rc1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `steampunk_spotter-2.0.1rc1.dist-info/METADATA` & `steampunk_spotter-2.0.2rc1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: steampunk-spotter
-Version: 2.0.1rc1
+Version: 2.0.2rc1
 Summary: Ansible Playbook Scanning Tool
 Home-page: https://spotter.steampunk.si/
 Author: XLAB d.o.o.
 Author-email: pypi@xlab.si
 Project-URL: Source Code, https://gitlab.com/xlab-steampunk/steampunk-spotter-client/spotter-cli
 Project-URL: Bug Tracker, https://gitlab.com/xlab-steampunk/steampunk-spotter-client/spotter-cli/-/issues
 Project-URL: Documentation, https://gitlab.com/xlab-steampunk/steampunk-spotter-client/spotter-cli
```

## Comparing `steampunk_spotter-2.0.1rc1.dist-info/RECORD` & `steampunk_spotter-2.0.2rc1.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,20 +1,20 @@
 spotter/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 spotter/api.py,sha256=F-pbx3pQ12Hv4h5y4k56yRGWwXSWkwR27CHmATcxOo8,22727
 spotter/cli.py,sha256=MYF1n5l8ZcWTxcEQEtDdx7zaj62Dyf8aL5yeEejvgkQ,5690
-spotter/environment.py,sha256=toBoh-m2Jt1S7GwyXXeIKy8p4jIHb8g3nQyY_agXcsc,22166
+spotter/environment.py,sha256=MHNxiWHlA9IjalmkP5G-Pf5QwgpXP-aW8YK385FvOsA,21661
 spotter/parsing.py,sha256=TiQzIlLsxa3sN9YTDYxxd0dWoW6Zeoy7zZGBzzGyZi0,24325
 spotter/storage.py,sha256=JP8CrsxCugpOXpR6fwiTzqmlbXCLwtZiGJ8Dbm-tUjA,5697
 spotter/utils.py,sha256=n6xPBZAHwhemTtFYivo0WFHxK01ir77SsrnooW6B75w,2752
 spotter/commands/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 spotter/commands/clear_policies.py,sha256=Bp0ObPl30S5m-R6LZDGfub3-M2bhbIJi0zzEEuW-fzQ,5468
 spotter/commands/login.py,sha256=pnvZSRIC-k8q7d1M3OCAx3omr-atMbiSdnoEnBWq1bU,2446
 spotter/commands/logout.py,sha256=8YQ7YbX-kgg4748MbSruCri0aAoKRygTxkU74F9Kp5c,2253
 spotter/commands/register.py,sha256=bYWlxj6yqSFG1bwAZKyKPZtriijmQ-Hyc7geciGVh8I,1155
-spotter/commands/scan.py,sha256=SXbtix1sbQyioPOStqjnk60V0nBtrXxNu8txogC4Uqk,40717
+spotter/commands/scan.py,sha256=HM9y4e4QgCiqzBGaQ5I7xuxAiM2I1V59TiodhRcQaKI,40542
 spotter/commands/set_policies.py,sha256=-W0Gsd1I_yNWct7FuvVng595V98IDjMJOyK78HgW98s,6692
 spotter/commands/suggest.py,sha256=MIcYTOoV8v4TrTovvu3_tv50-H_4i52_wCXLiIGEpoU,3620
 spotter/reporting/__init__.py,sha256=Mddj7lJk3d9SeIpItBD_NNURRF4vtyMahTomdOFAEDw,60
 spotter/reporting/report.py,sha256=LXBXWhXvWa39l-UvLq0-5ts0dK_uCRCfayvUGm0g5kQ,3459
 spotter/rewriting/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 spotter/rewriting/models.py,sha256=RCPpJ8j4Hig2RYpC_pEYKnOlRBOuPmyddBucX9RM8z4,7545
 spotter/rewriting/processor.py,sha256=KXD9sRoEIUmraxg9lFyOe7kl8Yl3tl8mTB-hMcWqF5A,7562
@@ -23,14 +23,14 @@
 spotter/rewriting/rewrite_always_run.py,sha256=UxH-gjRr8rEGaXzT9dp4bOaFXXMaCE7vFc2jO_7B3Fw,989
 spotter/rewriting/rewrite_fqcn.py,sha256=bHjFL68p5Kx-aRBmsvlUPu4fsDbVcsDdaw0v61IvDC0,982
 spotter/rewriting/rewrite_inline.py,sha256=AWwOpqYTtokaLN65bCpPWbPqHOwYkh4b-B5NwP9quBc,2087
 spotter/rewriting/rewrite_local_action_inline.py,sha256=TTv4rF8EPSapapDShP9-Tk0ZOPHXXjiW7LluVShrYqU,2527
 spotter/rewriting/rewrite_local_object.py,sha256=oEdZsSmMf7AS9jXbUxmmYoePId2c48yJQ8pqvQsBOrE,2312
 spotter/rewriting/rewrite_module_inline.py,sha256=blQEkNzfCAiyr2nJJuTNXdj8jyVAESLzfA4cfhttRto,989
 spotter/rewriting/rewrite_module_object.py,sha256=tK5KNRCIn0ibwXwmwgAk8nKKIyOCADmsYOPsX3lcWiY,888
-steampunk_spotter-2.0.1rc1.dist-info/LICENSE,sha256=z8d0m5b2O9McPEK1xHG_dWgUBT6EfBDz6wA0F7xSPTA,11358
-steampunk_spotter-2.0.1rc1.dist-info/METADATA,sha256=1Rq4zsfqcEdxMJLm6smTdFoDu9QyA9kLjNq0f8rG4nU,23308
-steampunk_spotter-2.0.1rc1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-steampunk_spotter-2.0.1rc1.dist-info/entry_points.txt,sha256=_94aMdgSgx7FY17kO5nvQ5NaEqYQM1oetU0Iwq2NK6c,45
-steampunk_spotter-2.0.1rc1.dist-info/top_level.txt,sha256=3FpgMM0g2fECUU_GuaBTKGXYeWTG5uDxJXqqRD3YTck,8
-steampunk_spotter-2.0.1rc1.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
-steampunk_spotter-2.0.1rc1.dist-info/RECORD,,
+steampunk_spotter-2.0.2rc1.dist-info/LICENSE,sha256=z8d0m5b2O9McPEK1xHG_dWgUBT6EfBDz6wA0F7xSPTA,11358
+steampunk_spotter-2.0.2rc1.dist-info/METADATA,sha256=Ov6IYS1T2gHQoZFZ52dlZfgPL1xXt6BClPHzJu8Hnaw,23308
+steampunk_spotter-2.0.2rc1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+steampunk_spotter-2.0.2rc1.dist-info/entry_points.txt,sha256=_94aMdgSgx7FY17kO5nvQ5NaEqYQM1oetU0Iwq2NK6c,45
+steampunk_spotter-2.0.2rc1.dist-info/top_level.txt,sha256=3FpgMM0g2fECUU_GuaBTKGXYeWTG5uDxJXqqRD3YTck,8
+steampunk_spotter-2.0.2rc1.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
+steampunk_spotter-2.0.2rc1.dist-info/RECORD,,
```

